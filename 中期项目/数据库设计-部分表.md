# 网上宠物商城数据库设计

## 数据表设计

### user表（用户表）

|     字段      |    类型     |    标识    |   描述   |
| :-----------: | :---------: | :--------: | :------: |
|      u_id      |     int     |    主键    | 用户编号 |
|   user_name   | varchar(50) | 唯一，非空 | 用户昵称 |
|   password    | varchar(50) |    非空    | 登录密码 |
| phone_number  |  varchar(50)  |    唯一    |  手机号  |
| register_time | varchar(50) |  系统时间  | 注册时间 |
|  email   |       varchar(50)       |      |   邮箱   |
| realname |       varchar(50)       |      | 真实姓名 |
|  idcard  |       varchar(50)       |      |  身份证  |
|   sex    | enum('男','女'，‘其他’) |      |   性别   |
| birthday | date | | 生日 |

### admin(管理员表)

|  字段  |    类型     | 标识 |    描述    |
| :----: | :---------: | :--: | :--------: |
|  a_id  |     int     | 主键 | 管理员编号 |
| a_name | varchar(50) |      | 管理员昵称 |
| a_pwd  | varchar(50) |      | 管理员密码 |



### shipping_address表（收货地址表）

|         字段          |     类型     | 标识 |      描述      |
| :-------------------: | :----------: | :--: | :------------: |
|         sa_id         |     int      | 主键 |  收货地址编号  |
|         u_id          |     int      | 外键 |    用户编号    |
|     receiver_name     | varchar(50)  | 非空 |   收货人姓名   |
|       province        | varchar(50)  |      |      省份      |
|         city          | varchar(50)  |      |      城市      |
|        address        | varchar(100) |      |  详细街道地址  |
|       postcode        | varchar(50)  |      |      邮编      |
| receiver_phone_number | varchar(50)  |      |  收货人手机号  |
|      is_default       |     bit      |      | 是否为默认地址 |

### pet_category(宠物大类表)

|     字段      |    类型     | 标识 |     描述     |
| :-----------: | :---------: | :--: | :----------: |
|     pc_id     |     int     | 主键 | 宠物大类编号 |
| category_name | varchar(50) |      | 宠物大类名称 |

### pet_variety(宠物品种表)

|        字段        |    类型     | 标识 |       描述       |
| :----------------: | :---------: | :--: | :--------------: |
|       pv_id        |     int     | 主键 |   宠物品种编号   |
|       pc_id        |     int     | 外键 |   宠物大类编号   |
|      pv_name       | varchar(50) |      |     品种名称     |
| foster_daily price |   double    |      | 寄养价格（每天） |

### pet(宠物表)

|    字段    |     类型     | 标识 |       描述       |
| :--------: | :----------: | :--: | :--------------: |
|    p_id    |     int      | 主键 |     宠物编号     |
|   pv_id    |     int      | 外键 | 所属宠物品种编号 |
|   p_name   | varchar(50)  |      |      宠物名      |
| p_describe | varchar(200) |      |     宠物描述     |
|  p_price   |    double    |      |     宠物价格     |
|  p_image   | varchar(50)  |      |     宠物照片     |

### pet_product(宠物相关商品表)

|         字段         |     类型     | 标识 |     描述     |
| :------------------: | :----------: | :--: | :----------: |
|        pp_id         |     int      | 主键 | 宠物商品编号 |
|        pc_id         |     int      | 外键 | 所属宠物大类 |
|       pp_name        | varchar(50)  |      |   商品名称   |
|     pp_descripe      | varchar(200) |      |   商品描述   |
|       pp_price       |    double    |      |   商品价格   |
|     pp_quantity      |     int      |      |   库存数量   |
|       pp_image       | varchar(50)  |      |   商品图片   |
| is_featured_products |     bit      |      | 是否特色产品 |

### user_order(用户订单表)

|         字段          |     类型     | 标识 |       描述        |
| :-------------------: | :----------: | :--: | :---------------: |
|         uo_id         |     int      | 主键 |     订单编号      |
|         u_id          |     int      | 外键 |     用户编号      |
|       uo_price        |    double    |      |     订单价格      |
|      order_time       |   datetime   |      |     下单时间      |
|     order_status      |     bit      |      |     订单状态      |
| order_completion_time |   datetime   |      |   订单完成时间    |
|    pm_id    | int | 外键 |   付款方式编号    |
|   shipping_address    | varchar(200) |      | 收货地址/上门地址 |
|     user_reviews      | varchar(300) |      |     用户评价      |
|      store_reply      | varchar(300) |      |     商家回评      |

说明：订单表包括商品订单和宠物领养和寄养订单

### order_product(订单商品表)

|       字段        | 类型 | 标识 |     描述     |
| :---------------: | :--: | :--: | :----------: |
|       op_id       | int  | 主键 | 订单商品编号 |
|       uo_id       | int  | 外键 |   订单编号   |
|       pp_id       | int  | 外键 | 宠物商品编号 |
| purchase_quantity | int  |      |   购买数量   |

### shopping cart(购物车表)

|    字段     |  类型  | 标识 |    描述    |
| :---------: | :----: | :--: | :--------: |
|    sc_id    |  int   | 主键 | 购物车编号 |
|    u_id     |  int   | 外键 |   用户id   |
| total_price | double |      |    合计    |

### cart_product(购物车商品表)

|   字段   | 类型 | 标识 |     描述     |
| :------: | :--: | :--: | :----------: |
|  cp_id   | int  | 主键 |     编号     |
|  sc_id   | int  | 外键 |  购物车编号  |
|  pp_id   | int  |      | 宠物商品编号 |
| quantity | int  |      |     数量     |

### pet_foster_order(宠物寄养订单表)

|     字段     | 类型 | 标识 |        描述        |
| :----------: | :--: | :--: | :----------------: |
|    pfo_id    | int  | 主键 |  宠物寄养订单编号  |
|    uo_id     | int  | 外键 |      订单编号      |
|    pv_id     | int  | 外键 | 要寄养的宠物的品种 |
| pet_quantity | int  |      | 该品种宠物寄养数量 |

### pet_adoption_order(宠物领养订单)

|  字段  | 类型 | 标识 |       描述       |
| :----: | :--: | :--: | :--------------: |
| pao_id | int  | 主键 | 宠物领养订单编号 |
| uo_id  | int  | 外键 |     订单编号     |
|  p_id  | int  | 外键 |     宠物编号     |

### payment_method(支付方式表)

|  字段   |    类型     | 标识 |     描述     |
| :-----: | :---------: | :--: | :----------: |
|  pm_id  |     int     | 主键 | 支付方式编号 |
| pm_name | varchar(50) |      | 支付方式名称 |

### user_feedback(用户反馈表)

|       字段       |     类型     | 标识 |     描述      |
| :--------------: | :----------: | :--: | :-----------: |
|      uf_id       |     int      | 主键 | 用户反馈编号  |
|       u_id       |     int      | 外键 |   用户编号    |
| feedback_content | varchar(300) |      |   反馈内容    |
|   feedbck_time   |   datetime   |      |   反馈时间    |
|   store_reply    | varchar(300) |      |   店家回复    |
|    reply_time    |   datetime   |      |   回复时间    |
|   reply_status   |     bit      |      | 已回复/未回复 |

